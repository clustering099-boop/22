<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c3{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c2{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c3 doc-content"><p class="c0"><span class="c1">&lt;!doctype html&gt;</span></p><p class="c0"><span class="c1">&lt;html lang=&quot;ko&quot;&gt;</span></p><p class="c0"><span class="c1">&lt;head&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;meta charset=&quot;utf-8&quot; /&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;title&gt;&#51088;&#47532;&#48176;&#52824;&#54364; &#47004;&#45924; &#49373;&#49457;&lt;/title&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- TailwindCSS CDN --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;script src=&quot;https://cdn.tailwindcss.com&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- Bootstrap (utilities &amp; buttons) --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;!-- SweetAlert2 --&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;script src=&quot;https://cdn.jsdelivr.net/npm/sweetalert2@11&quot;&gt;&lt;/script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;style&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; /* &#48512;&#46300;&#47084;&#50868; &#52852;&#46300;/&#44536;&#47548;&#51088; */</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; .glass { background: rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); backdrop-filter: blur(8px); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; .seat { user-select: none; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; .seat[data-blocked=&quot;true&quot;] { outline: 2px dashed rgba(255,255,255,.35); background: rgba(255,255,255,.05) !important; color: #9aa8bd; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; .seat.dragover { outline: 3px solid rgba(99, 179, 237, .9); }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; .handle { cursor: grab; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; .handle:active { cursor: grabbing; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; .print-hide { display: block; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; @media print {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; .print-hide { display: none !important; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; body { background: #fff !important; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; .glass, .shadow-xl { box-shadow: none !important; border: 1px solid #ddd !important; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &lt;/style&gt;</span></p><p class="c0"><span class="c1">&lt;/head&gt;</span></p><p class="c0"><span class="c1">&lt;body class=&quot;min-h-screen bg-gradient-to-br from-indigo-900 via-slate-900 to-black text-white p-6&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;main class=&quot;max-w-6xl mx-auto space-y-4&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;header class=&quot;print-hide flex flex-col md:flex-row md:items-end md:justify-between gap-3&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;h1 class=&quot;text-2xl font-bold&quot;&gt;&#51088;&#47532;&#48176;&#52824;&#54364; &#47004;&#45924; &#49373;&#49457;&lt;/h1&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;p class=&quot;text-slate-300&quot;&gt;&#50896;&#54616;&#45716; &#54665;/&#50676;&#44284; &#54617;&#49373;&#47749;(&#46608;&#45716; &#48264;&#54840;)&#51004;&#47196; &lt;b&gt;&#51473;&#48373; &#50630;&#51060;&lt;/b&gt; &#51088;&#47532;&#54364;&#47484; &#47564;&#46317;&#45768;&#45796;. &#46300;&#47000;&#44536;&#54644;&#49436; &#48148;&#44984;&#44256;, &#48712; &#51088;&#47532;&#46020; &#51648;&#51221;&#54624; &#49688; &#51080;&#50612;&#50836;.&lt;/p&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;flex gap-2&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button id=&quot;btnShuffle&quot; class=&quot;btn btn-primary&quot;&gt;&#127922; &#47004;&#45924; &#48176;&#52824;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button id=&quot;btnClear&quot; class=&quot;btn btn-outline-light&quot;&gt;&#52488;&#44592;&#54868;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;button id=&quot;btnPrint&quot; class=&quot;btn btn-success&quot;&gt;&#128424;&#65039; &#51064;&#49604;/&#51200;&#51109;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/header&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;section class=&quot;glass rounded-2xl p-4 shadow-xl print-hide&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;grid md:grid-cols-3 gap-4&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;space-y-3&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label class=&quot;block text-sm text-slate-300&quot;&gt;&#54617;&#49373; &#49688; &lt;span class=&quot;text-slate-400&quot;&gt;(&#51060;&#47492;&#51012; &#50416;&#47732; &#51088;&#46041;&#51004;&#47196; &#48152;&#50689;)&lt;/span&gt;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;count&quot; type=&quot;number&quot; min=&quot;1&quot; max=&quot;60&quot; value=&quot;30&quot; class=&quot;form-control bg-white/70&quot; /&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;grid grid-cols-2 gap-3&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label class=&quot;block text-sm text-slate-300&quot;&gt;&#54665; (rows)&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;rows&quot; type=&quot;number&quot; min=&quot;1&quot; max=&quot;12&quot; value=&quot;5&quot; class=&quot;form-control bg-white/70&quot; /&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label class=&quot;block text-sm text-slate-300&quot;&gt;&#50676; (cols)&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input id=&quot;cols&quot; type=&quot;number&quot; min=&quot;1&quot; max=&quot;12&quot; value=&quot;6&quot; class=&quot;form-control bg-white/70&quot; /&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;form-check form-switch&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; role=&quot;switch&quot; id=&quot;toggleBlockMode&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label class=&quot;form-check-label&quot; for=&quot;toggleBlockMode&quot;&gt;&#48712; &#51088;&#47532; &#51648;&#51221; &#47784;&#46300; (&#51340;&#49437; &#53364;&#47533;&#54644;&#49436; &#48708;&#50864;&#44592;/&#54644;&#51228;)&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;flex gap-2&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button id=&quot;btnSave&quot; class=&quot;btn btn-outline-info w-full&quot;&gt;&#128190; &#51200;&#51109;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;button id=&quot;btnLoad&quot; class=&quot;btn btn-outline-secondary w-full&quot;&gt;&#128194; &#48520;&#47084;&#50724;&#44592;&lt;/button&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;md:col-span-2 space-y-2&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;label class=&quot;block text-sm text-slate-300&quot;&gt;&#54617;&#49373; &#51060;&#47492; &#47785;&#47197; &lt;span class=&quot;text-slate-400&quot;&gt;(&#54620; &#51460;&#50640; &#54616;&#45208;, &#48708;&#50892;&#46160;&#47732; 1~N &#48264;&#54840; &#49324;&#50857;)&lt;/span&gt;&lt;/label&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;textarea id=&quot;names&quot; rows=&quot;6&quot; class=&quot;form-control bg-white/70&quot; placeholder=&quot;&#50696;)</span></p><p class="c0"><span class="c1">01 &#54861;&#44600;&#46041;</span></p><p class="c0"><span class="c1">02 &#51076;&#44733;&#51221;</span></p><p class="c0"><span class="c1">03 &#49457;&#52632;&#54693;</span></p><p class="c0"><span class="c1">...&quot;&gt;&lt;/textarea&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;text-xs text-slate-400&quot;&gt;&#51473;&#48373; &#51060;&#47492;&#51008; &#51088;&#46041; &#51228;&#44144;&#46104;&#47728;, &#49345;&#45800; &#54617;&#49373; &#49688;/&#51340;&#49437; &#49688;&#48372;&#45796; &#47566;&#51012; &#44221;&#50864; &#51340;&#49437; &#49688;&#50640; &#47582;&#52656; &#51096;&#47549;&#45768;&#45796;.&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/section&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;section id=&quot;boardWrap&quot; class=&quot;glass rounded-2xl p-4 shadow-xl&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;flex items-center justify-between mb-3&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;h2 class=&quot;text-lg font-semibold&quot;&gt;&#51088;&#47532;&#54364;&lt;/h2&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;print-hide text-sm text-slate-300&quot;&gt;&#46300;&#47000;&#44536;&#47196; &#51088;&#47532; &#48148;&#44984;&#44592; &bull; &#45908;&#48660;&#53364;&#47533;&#51004;&#47196; &#51060;&#47492; &#49688;&#51221;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div id=&quot;board&quot; class=&quot;grid gap-2&quot;&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;flex items-center justify-between mt-3&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div id=&quot;legend&quot; class=&quot;text-xs text-slate-400&quot;&gt;&#50526;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &lt;div class=&quot;text-xs text-slate-400&quot;&gt;&#46244;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/section&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;/main&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &lt;template id=&quot;seatTemplate&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;div draggable=&quot;true&quot; class=&quot;seat bg-blue-700/80 rounded-xl p-3 text-center font-bold shadow-md handle select-none&quot;&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;leading-none&quot;&gt;&lt;span class=&quot;name&quot;&gt;&mdash;&lt;/span&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &lt;div class=&quot;text-[10px] opacity-75 mt-1&quot;&gt;&lt;span class=&quot;pos&quot;&gt;R1C1&lt;/span&gt;&lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &lt;/div&gt;</span></p><p class="c0"><span class="c1">&nbsp; &lt;/template&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &lt;script&gt;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // ===== Utilities: crypto-safe shuffle =====</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function cryptoRandomInt(maxExclusive) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const mat = Math.ceil(Math.log2(maxExclusive));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const bytes = Math.ceil(mat / 8);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const maxVal = 2 ** (bytes * 8);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const limit = maxVal - (maxVal % maxExclusive);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const buf = new Uint8Array(bytes);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; let num;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; do {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; crypto.getRandomValues(buf);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; num = 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; for (let i = 0; i &lt; bytes; i++) num = (num &lt;&lt; 8) | buf[i];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; } while (num &gt;= limit);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return num % maxExclusive;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function shuffleCrypto(arr) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const a = arr.slice();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; for (let i = a.length - 1; i &gt; 0; i--) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const j = cryptoRandomInt(i + 1);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; [a[i], a[j]] = [a[j], a[i]];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return a;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // ===== DOM refs =====</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const elCount = document.getElementById(&#39;count&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const elRows = document.getElementById(&#39;rows&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const elCols = document.getElementById(&#39;cols&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const elNames = document.getElementById(&#39;names&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const elBoard = document.getElementById(&#39;board&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const elSeatTpl = document.getElementById(&#39;seatTemplate&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const elToggleBlock = document.getElementById(&#39;toggleBlockMode&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const btnShuffle = document.getElementById(&#39;btnShuffle&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const btnClear = document.getElementById(&#39;btnClear&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const btnPrint = document.getElementById(&#39;btnPrint&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const btnSave = document.getElementById(&#39;btnSave&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; const btnLoad = document.getElementById(&#39;btnLoad&#39;);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // ===== state =====</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; let blocked = new Set(); // &#51340;&#49437; index &#48708;&#50892;&#46160;&#44592;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function seatIndex(r, c, cols) { return r * cols + c; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function getNamesList() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = (elNames.value || &#39;&#39;).split(/\n+/).map(s =&gt; s.trim()).filter(Boolean);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const unique = [...new Set(raw)];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const n = parseInt(elCount.value, 10) || 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if (unique.length &gt; 0) return unique.slice(0, n);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return Array.from({length: n}, (_, i) =&gt; String(i + 1).padStart(n &gt;= 10 ? 2 : 1, &#39;0&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function ensureBoardSize(rows, cols) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; elBoard.style.gridTemplateColumns = `repeat(${cols}, minmax(90px, 1fr))`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const need = rows * cols;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const current = elBoard.children.length;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; for (let i = current; i &lt; need; i++) elBoard.appendChild(createSeat(i, rows, cols));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; for (let i = current - 1; i &gt;= need; i--) elBoard.removeChild(elBoard.children[i]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#54252;&#51648;&#49496; &#46972;&#48296; &#50629;&#45936;&#51060;&#53944;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; [...elBoard.children].forEach((seat, idx) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const r = Math.floor(idx / cols), c = idx % cols;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; seat.querySelector(&#39;.pos&#39;).textContent = `R${r+1}C${c+1}`;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; seat.dataset.index = idx;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function createSeat(idx, rows, cols) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const node = elSeatTpl.content.firstElementChild.cloneNode(true);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; node.dataset.index = idx;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; node.dataset.blocked = &#39;false&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; node.addEventListener(&#39;click&#39;, () =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if (!elToggleBlock.checked) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const i = parseInt(node.dataset.index, 10);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if (node.dataset.blocked === &#39;true&#39;) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; node.dataset.blocked = &#39;false&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blocked.delete(i);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; } else {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; node.dataset.blocked = &#39;true&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blocked.add(i);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; node.querySelector(&#39;.name&#39;).textContent = &#39;&#48712; &#51340;&#49437;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#45908;&#48660;&#53364;&#47533;&#51004;&#47196; &#51060;&#47492; &#49688;&#51221;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; node.addEventListener(&#39;dblclick&#39;, () =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const cur = node.querySelector(&#39;.name&#39;).textContent;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; Swal.fire({</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; title: &#39;&#51060;&#47492; &#49688;&#51221;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; input: &#39;text&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inputValue: cur === &#39;&#48712; &#51340;&#49437;&#39; ? &#39;&#39; : cur,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; showCancelButton: true,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; confirmButtonText: &#39;&#51200;&#51109;&#39;,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cancelButtonText: &#39;&#52712;&#49548;&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; }).then(res =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (res.isConfirmed) node.querySelector(&#39;.name&#39;).textContent = (res.value || cur) || &#39;&mdash;&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // Drag &amp; Drop</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; node.addEventListener(&#39;dragstart&#39;, ev =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; ev.dataTransfer.setData(&#39;text/plain&#39;, node.dataset.index);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; node.addEventListener(&#39;dragover&#39;, ev =&gt; { ev.preventDefault(); node.classList.add(&#39;dragover&#39;); });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; node.addEventListener(&#39;dragleave&#39;, () =&gt; node.classList.remove(&#39;dragover&#39;));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; node.addEventListener(&#39;drop&#39;, ev =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; ev.preventDefault(); node.classList.remove(&#39;dragover&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const from = parseInt(ev.dataTransfer.getData(&#39;text/plain&#39;), 10);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const to = parseInt(node.dataset.index, 10);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; swapSeats(from, to);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; return node;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function swapSeats(aIdx, bIdx) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if (aIdx === bIdx) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const a = elBoard.children[aIdx];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const b = elBoard.children[bIdx];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const aName = a.querySelector(&#39;.name&#39;).textContent;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const bName = b.querySelector(&#39;.name&#39;).textContent;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const aBlk = a.dataset.blocked, bBlk = b.dataset.blocked;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; a.querySelector(&#39;.name&#39;).textContent = bName; a.dataset.blocked = bBlk;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; b.querySelector(&#39;.name&#39;).textContent = aName; b.dataset.blocked = aBlk;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const aBlocked = aBlk === &#39;true&#39;, bBlocked = bBlk === &#39;true&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if (aBlocked) blocked.delete(aIdx); else blocked.delete(bIdx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if (a.dataset.blocked === &#39;true&#39;) blocked.add(aIdx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if (b.dataset.blocked === &#39;true&#39;) blocked.add(bIdx);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function fillSeatsRandom() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const rows = clamp(parseInt(elRows.value,10)||1,1,12);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const cols = clamp(parseInt(elCols.value,10)||1,1,12);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const names = getNamesList();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const capacity = rows * cols;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if (names.length &gt; capacity - blocked.size) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; Swal.fire(&#39;&#51340;&#49437; &#48512;&#51313;&#39;, `&#49324;&#50857; &#44032;&#45733;&#54620; &#51340;&#49437;(${capacity - blocked.size}&#44060;)&#48372;&#45796; &#54617;&#49373; &#49688;(${names.length}&#47749;)&#44032; &#47566;&#49845;&#45768;&#45796;. &#48712; &#51088;&#47532;&#47484; &#51460;&#51060;&#44144;&#45208; &#54665;/&#50676;&#51012; &#45720;&#47140;&#51452;&#49464;&#50836;.`, &#39;warning&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; ensureBoardSize(rows, cols);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; // &#48712; &#52856; &#51228;&#50808;&#54616;&#44256; &#51060;&#47492; &#52292;&#50864;&#44592;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const order = shuffleCrypto(names);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; let iOrder = 0;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; for (let i = 0; i &lt; rows * cols; i++) {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const seat = elBoard.children[i];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if (blocked.has(i)) { seat.dataset.blocked = &#39;true&#39;; seat.querySelector(&#39;.name&#39;).textContent = &#39;&#48712; &#51340;&#49437;&#39;; continue; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; seat.dataset.blocked = &#39;false&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; seat.querySelector(&#39;.name&#39;).textContent = (order[iOrder++] ?? &#39;&mdash;&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; Swal.fire({ title:&#39;&#48176;&#52824; &#50756;&#47308;&#39;, icon:&#39;success&#39;, timer:1200, showConfirmButton:false });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function clearAll() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; blocked.clear();</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; [...elBoard.children].forEach(seat =&gt; { seat.dataset.blocked=&#39;false&#39;; seat.querySelector(&#39;.name&#39;).textContent=&#39;&mdash;&#39;; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; Swal.fire(&#39;&#52488;&#44592;&#54868; &#50756;&#47308;&#39;, &#39;&#39;, &#39;info&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function saveLayout() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const rows = parseInt(elRows.value,10)||1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const cols = parseInt(elCols.value,10)||1;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const data = {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; rows, cols,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; count: parseInt(elCount.value,10)||0,</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; names: getNamesList(),</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; blocked: [...blocked],</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; grid: [...elBoard.children].map(seat =&gt; ({ name: seat.querySelector(&#39;.name&#39;).textContent, blocked: seat.dataset.blocked === &#39;true&#39; }))</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; };</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; localStorage.setItem(&#39;seatingLayout&#39;, JSON.stringify(data));</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; Swal.fire(&#39;&#51200;&#51109;&#46104;&#50632;&#49845;&#45768;&#45796;&#39;, &#39;&#48652;&#46972;&#50864;&#51200; LocalStorage&#50640; &#51200;&#51109;&#46120;&#39;, &#39;success&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; function loadLayout() {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const raw = localStorage.getItem(&#39;seatingLayout&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; if (!raw) { Swal.fire(&#39;&#48520;&#47084;&#50732; &#54637;&#47785;&#51060; &#50630;&#49845;&#45768;&#45796;&#39;, &#39;&#39;, &#39;info&#39;); return; }</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const data = JSON.parse(raw);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; elRows.value = data.rows; elCols.value = data.cols; elCount.value = data.count; elNames.value = (data.names||[]).join(&#39;\n&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; blocked = new Set(data.blocked||[]);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; ensureBoardSize(data.rows, data.cols);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; (data.grid||[]).forEach((cell, i) =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; const seat = elBoard.children[i];</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if (!seat) return;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; seat.querySelector(&#39;.name&#39;).textContent = cell.name;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; seat.dataset.blocked = cell.blocked ? &#39;true&#39; : &#39;false&#39;;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; });</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; Swal.fire(&#39;&#48520;&#47084;&#50724;&#44592; &#50756;&#47308;&#39;, &#39;&#39;, &#39;success&#39;);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // ===== events =====</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btnShuffle.addEventListener(&#39;click&#39;, fillSeatsRandom);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btnClear.addEventListener(&#39;click&#39;, clearAll);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btnPrint.addEventListener(&#39;click&#39;, () =&gt; window.print());</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btnSave.addEventListener(&#39;click&#39;, saveLayout);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; btnLoad.addEventListener(&#39;click&#39;, loadLayout);</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; [elRows, elCols].forEach(inp =&gt; inp.addEventListener(&#39;change&#39;, () =&gt; {</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const r = clamp(parseInt(elRows.value,10)||1,1,12);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; const c = clamp(parseInt(elCols.value,10)||1,1,12);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; ensureBoardSize(r, c);</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; }));</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; // ===== initial render =====</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; ensureBoardSize(parseInt(elRows.value,10), parseInt(elCols.value,10));</span></p><p class="c0"><span class="c1">&nbsp; &lt;/script&gt;</span></p><p class="c0"><span class="c1">&lt;/body&gt;</span></p><p class="c0"><span class="c1">&lt;/html&gt;</span></p><p class="c0 c2"><span class="c1"></span></p><p class="c0 c2"><span class="c1"></span></p></body></html>